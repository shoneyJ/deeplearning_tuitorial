
\chapter{Prerequisites for developing classification model}

One of the major challenge in an ecommerce industry is to categorize the products. The phenominal types of products in the ecommerce web application sold online may require an artificial inteligence generated category tree. The multi level product-categories in the taxonomy tree received and defined from the suppliers or manfucture may not be usable. Since the existing multi level category of those products in ecommerse application may defer. Importing product-category details directly from the various channels may lead to disambugution. The artificial inteligence generated category tree reduces the product ready to deploy time on the production environment. The product ready to deploy time here refers to the check lists of data correctness of the product before listing online.

\section {Fetch existing product taxonomy using Elastic Search}

In section \ref {pyenv}, version specific python client installation detail are documented. For this project, python client elasticsearch 6.8.2 is installed as the client needs to be compatble with Elastic search version being used.


\begin{lstlisting}[language=Python]
from elasticsearch import Elasticsearch
client = Elasticsearch("http://localhost:9200")

resp = client.search(index="development_products",
                     body={"_source":["descriptions","descriptionsSource","nameSource","shortDescriptionSource","categoriesSource"],
                           "query": {"match_all": {}}})
\end{lstlisting}

The above code sample fetches the features of the product such as "name","description",category".


Elasticsearch uses \acf{Tf-Idf}. \acs{Tf-Idf} is a technique to generate numeric representation of words. \acs{Tf-Idf} represents product of two terms, \acs{Tf} and \acs{Idf}.

% \begin{math} x_i=tf(w_i) x idf(w_i) \end{math}

\section {Feature selection and dataset sources}

A feature represents a set of data inputed in a training model to predict the the masked related data. In simple terms, in a classication model which predicts category of a product, product name, description can be labeled as its feature. 

The datasets used primarly for extracting feautures will be from the existing product database. In this paper, the datasets used are of an ecommerce business belonging to automotive industry domain. Secondary dataset used is from the TecDoc catalogue by TecAlliance \footnote{https://www.tecalliance.net/}

 In this experiment, consider 5 levels of categories as the maximum limit. The number of category levels differ for each products. Consider an example of category tree with three levels. 

\begin{quote} 
\centering 
sparepart/cooling-system/thermostat
\end{quote}
In such case, level 4 and level 5 will be appended with values using data imputation techniques, refer section \ref{dataimput}. 

The table \ref{table:l5} lists the feature description aling with the sample of category levels.
% \begin{figure}[h]
%       \centering
%       \small{This is text.  It's in a figure environment but it's still text}
%       \caption{\label{fig_text}Some text that can float as a figure}
%   \end{figure}



\begin{table}
      \caption{Feature descriptin and five levels of category sample data}
      \label{table:l5}

% \end{table}

% \begin{table}
%       \caption{Feature descriptions}
%       \label{table:features}
      \begin{tabular}{ lll }
            \toprule
            
            \textbf{No}& \textbf{Feature} & \textbf{Value}\\
            \midrule
            1&Category tree & multi level categories\\
            2&Description & description with html tags\\
            3&Manufacturere & name of company manfactured\\
            4&Short description  & product info displayed\\
            5&Supplier  &  supplier of the product\\
            \color{red}6&n number of  category levels   &  feature extracted from category tree\\
           
            \bottomrule
            \end{tabular}

            \begin{tabular}{llllll}
                  \toprule
                   catlevel0 & catlevel1 & catlevel2 & catlevel3 & catlevel4 & catlevel5 \\
                  \midrule
                  sparepart & cooling system & thermostat & NaN & NaN & NaN \\
            
                  \bottomrule
            \end{tabular}

\end{table}


\subsection{Dependency parsing for extracting nouns from features}

\section {Data imputation techniques - on missing data} \label{dataimput}

\subsection {Forward and Backward fill}

\subsection {Impute with mode}